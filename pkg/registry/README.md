adapted from https://github.com/google/go-containerregistry/tree/master/pkg/registry
